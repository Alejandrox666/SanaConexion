<form #registroForm="ngForm" (ngSubmit)="registrarAmbos()">
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card shadow-lg border-0 rounded-lg">
                    <div class="card-header bg-primary text-white text-center">
                        <h3 class="fw-bold">Registro de Usuario</h3>
                    </div>
                    <div class="card-body p-4">           
                        <div class="mb-3">
                            <label for="edad" class="form-label fw-bold">Edad</label>
                            <input 
                              type="number" 
                              class="form-control form-control-lg" 
                              id="edad" 
                              placeholder="Ingresa tu edad" 
                              [(ngModel)]="cliente.Edad" 
                              name="Edad" 
                              required
                              min="16" 
                              max="100"
                            >
                            <div *ngIf="registroForm.controls['Edad']?.invalid && registroForm.controls['Edad']?.touched" class="text-danger">
                              <div *ngIf="registroForm.controls['Edad']?.hasError('required')">La edad es obligatoria.</div>
                              <div *ngIf="registroForm.controls['Edad']?.hasError('min')">Debes ser mayor de 16 años.</div>
                              <div *ngIf="registroForm.controls['Edad']?.hasError('max')">La edad no puede ser mayor de 100 años.</div>
                            </div>
                          </div>
                          
                        <div class="mb-3">
                            <label for="sexo" class="form-label fw-bold">Sexo</label>
                            <select class="form-control form-control-lg" id="sexo" name="sexo" [(ngModel)]="cliente.Sexo" required>
                                <option value="" disabled selected>Selecciona tu sexo</option>
                                <option value="M">Masculino</option>
                                <option value="F">Femenino</option>
                            </select>
                            <div *ngIf="registroForm.controls['sexo']?.invalid && registroForm.controls['sexo']?.touched" class="text-danger">
                                El sexo es obligatorio.
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="peso" class="form-label fw-bold">Peso (kg)</label>
                            <input 
                              type="number" 
                              step="0.01" 
                              class="form-control form-control-lg" 
                              placeholder="Ingresa tu peso" 
                              id="peso" 
                              name="peso" 
                              [(ngModel)]="cliente.Peso" 
                              required
                              min="30" 
                              max="200"
                            >
                            <div *ngIf="registroForm.controls['peso']?.invalid && registroForm.controls['peso']?.touched" class="text-danger">
                              <div *ngIf="registroForm.controls['peso']?.hasError('required')">El peso es obligatorio.</div>
                              <div *ngIf="registroForm.controls['peso']?.hasError('min')">El peso debe ser al menos 30 kg.</div>
                              <div *ngIf="registroForm.controls['peso']?.hasError('max')">El peso no puede ser mayor a 200 kg.</div>
                            </div>
                          </div>
                          
                          <div class="mb-3">
                            <label for="estatura" class="form-label fw-bold">Estatura (m)</label>
                            <input 
                              type="number" 
                              step="0.01" 
                              class="form-control form-control-lg" 
                              id="estatura" 
                              placeholder="Ingresa tu estatura" 
                              name="estatura" 
                              [(ngModel)]="cliente.Estatura" 
                              required
                              min="0.5" 
                              max="2.5"
                            >
                            <div *ngIf="registroForm.controls['estatura']?.invalid && registroForm.controls['estatura']?.touched" class="text-danger">
                              <div *ngIf="registroForm.controls['estatura']?.hasError('required')">La estatura es obligatoria.</div>
                              <div *ngIf="registroForm.controls['estatura']?.hasError('min')">La estatura debe ser al menos 0.5 metros.</div>
                              <div *ngIf="registroForm.controls['estatura']?.hasError('max')">La estatura no puede ser mayor a 2.5 metros.</div>
                            </div>
                          </div>
                          
                        <div class="mb-3">
                            <label for="enfCronicas" class="form-label fw-bold">¿Padeces alguna enfermedades crónica?</label>
                            <textarea class="form-control form-control-lg" id="enfCronicas" placeholder="Cuentanos si padeces alguna enfermedad cronica" name="enfCronicas" [(ngModel)]="cliente.EnfCronicas"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="alergias" class="form-label fw-bold">¿Tienes alguna alergía?</label>
                            <textarea class="form-control form-control-lg" id="alergias" placeholder="Cuentanos si tienes alguna alergía" name="alergias" [(ngModel)]="cliente.Alergias"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="objetivoSalud" class="form-label fw-bold">Cuál es tu objetivo de Salud?</label>
                            <textarea class="form-control form-control-lg" id="objetivoSalud" placeholder="Cuentanos un poco más sobre tus objetivos de salud" name="objetivoSalud" [(ngModel)]="cliente.ObjetivoSalud"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="medicamentos" class="form-label fw-bold">¿Consumes algun medicamento?</label>
                            <textarea class="form-control form-control-lg" id="medicamentos" placeholder="Escribe los medicamentos que consumes actualmente" name="medicamentos" [(ngModel)]="cliente.Medicamentos"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="foto" class="form-label fw-bold">Foto</label>
                            <input type="file" class="form-control form-control-lg" id="foto" name="foto" (change)="onFileSelected($event)">
                        </div>
                        <div class="form-outline mb-4">
                            <label class="form-label">Marca la casilla para asegurar que no eres un robot</label>
                            <re-captcha (resolved)="captchaBox($event)" siteKey="6LcLXtUqAAAAAClyOLY_naHrBg1nyMxM_1zij305"
                              data-size="normal" data-theme="dark">
                            </re-captcha>
                          </div>
                        <div class="d-grid gap-2 mt-3">
                            <button type="submit" class="btn btn-primary btn-lg" [disabled]="registroForm.invalid">Registrar</button>
                            <button type="reset" class="btn btn-secondary btn-lg">Limpiar Campos</button>
                        </div>
                    </div>
                    <div class="card-footer text-center bg-light">
                        <small class="text-muted">¿Ya tienes una cuenta? <a (click)="goToLogin()" class="text-primary fw-bold">Inicia sesión aquí</a></small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
